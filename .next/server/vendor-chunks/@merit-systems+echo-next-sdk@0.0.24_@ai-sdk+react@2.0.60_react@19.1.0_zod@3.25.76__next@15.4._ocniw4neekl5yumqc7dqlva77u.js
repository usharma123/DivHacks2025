"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@merit-systems+echo-next-sdk@0.0.24_@ai-sdk+react@2.0.60_react@19.1.0_zod@3.25.76__next@15.4._ocniw4neekl5yumqc7dqlva77u";
exports.ids = ["vendor-chunks/@merit-systems+echo-next-sdk@0.0.24_@ai-sdk+react@2.0.60_react@19.1.0_zod@3.25.76__next@15.4._ocniw4neekl5yumqc7dqlva77u"];
exports.modules = {

/***/ "(rsc)/./node_modules/.pnpm/@merit-systems+echo-next-sdk@0.0.24_@ai-sdk+react@2.0.60_react@19.1.0_zod@3.25.76__next@15.4._ocniw4neekl5yumqc7dqlva77u/node_modules/@merit-systems/echo-next-sdk/dist/client.js":
/*!**************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@merit-systems+echo-next-sdk@0.0.24_@ai-sdk+react@2.0.60_react@19.1.0_zod@3.25.76__next@15.4._ocniw4neekl5yumqc7dqlva77u/node_modules/@merit-systems/echo-next-sdk/dist/client.js ***!
  \**************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EchoContext: () => (/* binding */ EchoContext),
/* harmony export */   EchoProvider: () => (/* binding */ EchoProvider),
/* harmony export */   EchoSignIn: () => (/* binding */ EchoSignIn),
/* harmony export */   EchoSignOut: () => (/* binding */ EchoSignOut),
/* harmony export */   EchoTokens: () => (/* binding */ EchoTokens),
/* harmony export */   InsufficientFundsModal: () => (/* binding */ InsufficientFundsModal),
/* harmony export */   useEcho: () => (/* binding */ useEcho)
/* harmony export */ });
/* harmony import */ var react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-server-dom-webpack/server */ "(rsc)/./node_modules/.pnpm/next@15.4.7_@opentelemetry+api@1.9.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-webpack-server.js");

const EchoContext = (0,react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call EchoContext() from the server but EchoContext is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/utsavsharma/Documents/GitHub/DivHacks2025/node_modules/.pnpm/@merit-systems+echo-next-sdk@0.0.24_@ai-sdk+react@2.0.60_react@19.1.0_zod@3.25.76__next@15.4._ocniw4neekl5yumqc7dqlva77u/node_modules/@merit-systems/echo-next-sdk/dist/client.js",
"EchoContext",
);const EchoProvider = (0,react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call EchoProvider() from the server but EchoProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/utsavsharma/Documents/GitHub/DivHacks2025/node_modules/.pnpm/@merit-systems+echo-next-sdk@0.0.24_@ai-sdk+react@2.0.60_react@19.1.0_zod@3.25.76__next@15.4._ocniw4neekl5yumqc7dqlva77u/node_modules/@merit-systems/echo-next-sdk/dist/client.js",
"EchoProvider",
);const EchoSignIn = (0,react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call EchoSignIn() from the server but EchoSignIn is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/utsavsharma/Documents/GitHub/DivHacks2025/node_modules/.pnpm/@merit-systems+echo-next-sdk@0.0.24_@ai-sdk+react@2.0.60_react@19.1.0_zod@3.25.76__next@15.4._ocniw4neekl5yumqc7dqlva77u/node_modules/@merit-systems/echo-next-sdk/dist/client.js",
"EchoSignIn",
);const EchoSignOut = (0,react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call EchoSignOut() from the server but EchoSignOut is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/utsavsharma/Documents/GitHub/DivHacks2025/node_modules/.pnpm/@merit-systems+echo-next-sdk@0.0.24_@ai-sdk+react@2.0.60_react@19.1.0_zod@3.25.76__next@15.4._ocniw4neekl5yumqc7dqlva77u/node_modules/@merit-systems/echo-next-sdk/dist/client.js",
"EchoSignOut",
);const EchoTokens = (0,react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call EchoTokens() from the server but EchoTokens is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/utsavsharma/Documents/GitHub/DivHacks2025/node_modules/.pnpm/@merit-systems+echo-next-sdk@0.0.24_@ai-sdk+react@2.0.60_react@19.1.0_zod@3.25.76__next@15.4._ocniw4neekl5yumqc7dqlva77u/node_modules/@merit-systems/echo-next-sdk/dist/client.js",
"EchoTokens",
);const InsufficientFundsModal = (0,react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call InsufficientFundsModal() from the server but InsufficientFundsModal is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/utsavsharma/Documents/GitHub/DivHacks2025/node_modules/.pnpm/@merit-systems+echo-next-sdk@0.0.24_@ai-sdk+react@2.0.60_react@19.1.0_zod@3.25.76__next@15.4._ocniw4neekl5yumqc7dqlva77u/node_modules/@merit-systems/echo-next-sdk/dist/client.js",
"InsufficientFundsModal",
);const useEcho = (0,react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call useEcho() from the server but useEcho is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/utsavsharma/Documents/GitHub/DivHacks2025/node_modules/.pnpm/@merit-systems+echo-next-sdk@0.0.24_@ai-sdk+react@2.0.60_react@19.1.0_zod@3.25.76__next@15.4._ocniw4neekl5yumqc7dqlva77u/node_modules/@merit-systems/echo-next-sdk/dist/client.js",
"useEcho",
);

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@merit-systems+echo-next-sdk@0.0.24_@ai-sdk+react@2.0.60_react@19.1.0_zod@3.25.76__next@15.4._ocniw4neekl5yumqc7dqlva77u/node_modules/@merit-systems/echo-next-sdk/dist/index.js":
/*!*************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@merit-systems+echo-next-sdk@0.0.24_@ai-sdk+react@2.0.60_react@19.1.0_zod@3.25.76__next@15.4._ocniw4neekl5yumqc7dqlva77u/node_modules/@merit-systems/echo-next-sdk/dist/index.js ***!
  \*************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Echo)\n/* harmony export */ });\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/.pnpm/next@15.4.7_@opentelemetry+api@1.9.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/api/headers.js\");\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/.pnpm/next@15.4.7_@opentelemetry+api@1.9.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/api/server.js\");\n/* harmony import */ var _merit_systems_echo_typescript_sdk__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @merit-systems/echo-typescript-sdk */ \"(rsc)/./node_modules/.pnpm/@merit-systems+echo-typescript-sdk@1.0.17_zod@3.25.76/node_modules/@merit-systems/echo-typescript-sdk/dist/index.js\");\n/* harmony import */ var jwt_decode__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jwt-decode */ \"(rsc)/./node_modules/.pnpm/jwt-decode@4.0.0/node_modules/jwt-decode/build/esm/index.js\");\n// src/index.ts\n\n\n// src/ai-providers/anthropic.ts\n\n// src/auth/token-manager.ts\n\n\n// src/config.ts\n\nfunction resolveEchoBaseUrl(config) {\n    return config.baseEchoUrl || _merit_systems_echo_typescript_sdk__WEBPACK_IMPORTED_MODULE_2__.ECHO_BASE_URL;\n}\n// src/auth/cookie-names.ts\nvar ECHO_COOKIE = {\n    ACCESS_TOKEN: \"echo_access_token\",\n    REFRESH_TOKEN: \"echo_refresh_token\",\n    REFRESH_TOKEN_EXPIRES: \"echo_refresh_token_expires\",\n    USER_INFO: \"echo_user_info\",\n    CODE_VERIFIER: \"echo_code_verifier\"\n};\nfunction namespacedCookie(name, appId) {\n    return `${name}_${appId}`;\n}\n// src/auth/jwt-utils.ts\n\nfunction shouldRefreshToken(token) {\n    try {\n        const decoded = (0,jwt_decode__WEBPACK_IMPORTED_MODULE_3__.jwtDecode)(token);\n        if (!decoded.exp) return true;\n        const now = Math.floor(Date.now() / 1e3);\n        const bufferTime = 30;\n        return decoded.exp <= now + bufferTime;\n    } catch  {\n        return true;\n    }\n}\n// src/auth/token-manager.ts\nasync function performTokenRefresh(refreshToken, config) {\n    return fetch(`${resolveEchoBaseUrl(config)}/api/oauth/token`, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            grant_type: \"refresh_token\",\n            refresh_token: refreshToken,\n            client_id: config.appId\n        })\n    }).then(async (r)=>{\n        if (r.ok) {\n            const tokenData = await r.json();\n            return tokenData;\n        }\n        return Promise.reject(new Error(await r.text()));\n    });\n}\nasync function getEchoToken(config) {\n    const cookies3 = await (0,next_headers__WEBPACK_IMPORTED_MODULE_0__.cookies)();\n    const accessToken = cookies3.get(namespacedCookie(ECHO_COOKIE.ACCESS_TOKEN, config.appId))?.value;\n    if (!accessToken || shouldRefreshToken(accessToken)) {\n        const refreshToken = cookies3.get(namespacedCookie(ECHO_COOKIE.REFRESH_TOKEN, config.appId))?.value;\n        if (!refreshToken) {\n            console.log(\"No refresh token found\");\n            return null;\n        }\n        try {\n            const refreshResult = await performTokenRefresh(refreshToken, config);\n            cookies3.set(namespacedCookie(ECHO_COOKIE.ACCESS_TOKEN, config.appId), refreshResult.access_token, {\n                httpOnly: true,\n                secure: \"development\" === \"production\",\n                sameSite: \"lax\",\n                maxAge: refreshResult.expires_in,\n                path: \"/\"\n            });\n            cookies3.set(namespacedCookie(ECHO_COOKIE.REFRESH_TOKEN, config.appId), refreshResult.refresh_token, {\n                httpOnly: true,\n                secure: \"development\" === \"production\",\n                sameSite: \"lax\",\n                maxAge: refreshResult.refresh_token_expires_in,\n                path: \"/\"\n            });\n            cookies3.set(namespacedCookie(ECHO_COOKIE.REFRESH_TOKEN_EXPIRES, config.appId), String(Math.floor(Date.now() / 1e3) + refreshResult.refresh_token_expires_in), {\n                httpOnly: true,\n                secure: \"development\" === \"production\",\n                sameSite: \"lax\",\n                maxAge: refreshResult.refresh_token_expires_in,\n                path: \"/\"\n            });\n            return refreshResult.access_token;\n        } catch (error) {\n            console.error(\"Token refresh failed:\", refreshToken, error);\n            return null;\n        }\n    }\n    return accessToken;\n}\n// src/ai-providers/anthropic.ts\nfunction createEchoAnthropic(config) {\n    return (0,_merit_systems_echo_typescript_sdk__WEBPACK_IMPORTED_MODULE_2__.createEchoAnthropic)(config, async ()=>getEchoToken(config));\n}\n// src/ai-providers/google.ts\n\nfunction createEchoGoogle(config) {\n    return (0,_merit_systems_echo_typescript_sdk__WEBPACK_IMPORTED_MODULE_2__.createEchoGoogle)(config, async ()=>getEchoToken(config));\n}\n// src/ai-providers/openai.ts\n\nfunction createEchoOpenAI(config) {\n    return (0,_merit_systems_echo_typescript_sdk__WEBPACK_IMPORTED_MODULE_2__.createEchoOpenAI)(config, async ()=>getEchoToken(config));\n}\n// src/proxy/index.ts\n\nasync function handleEchoClientProxy(req, config) {\n    const proxyPath = req.nextUrl.pathname.replace(/^.*\\/proxy/, \"\");\n    const baseUrl = config.baseEchoUrl || \"https://echo.merit.systems\";\n    const targetUrl = `${baseUrl}${proxyPath}`;\n    const headers = new Headers(req.headers);\n    headers.delete(\"host\");\n    headers.delete(\"accept-encoding\");\n    headers.set(\"accept-encoding\", \"identity\");\n    headers.delete(\"if-none-match\");\n    headers.delete(\"if-modified-since\");\n    const accessToken = await getEchoToken(config);\n    if (!accessToken) {\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            error: \"Authentication required\"\n        }, {\n            status: 401\n        });\n    }\n    headers.set(\"Authorization\", `Bearer ${accessToken}`);\n    try {\n        const response = await fetch(targetUrl, {\n            method: req.method,\n            headers,\n            ...req.method !== \"GET\" && req.method !== \"HEAD\" && {\n                body: req.body,\n                duplex: \"half\"\n            }\n        });\n        return response;\n    } catch (error) {\n        console.error(\"Proxy request failed:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            error: \"Proxy request failed\"\n        }, {\n            status: 500\n        });\n    }\n}\n// src/auth/oauth-handlers.ts\n\n\nasync function generateCodeChallenge() {\n    const codeVerifier = Array.from(crypto.getRandomValues(new Uint8Array(32))).map((b)=>b.toString(16).padStart(2, \"0\")).join(\"\");\n    const encoder = new TextEncoder();\n    const codeChallengeBuffer = await crypto.subtle.digest(\"SHA-256\", encoder.encode(codeVerifier));\n    const codeChallenge = btoa(String.fromCharCode(...new Uint8Array(codeChallengeBuffer))).replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/=+$/, \"\");\n    return {\n        codeVerifier,\n        codeChallenge\n    };\n}\nasync function handleSignIn(req, config) {\n    const { origin } = req.nextUrl;\n    const basePath = config.basePath || \"/api/echo\";\n    const baseUrl = resolveEchoBaseUrl(config);\n    const redirectUrl = new URL(`${baseUrl}/api/oauth/authorize`);\n    redirectUrl.searchParams.set(\"client_id\", config.appId);\n    redirectUrl.searchParams.set(\"redirect_uri\", `${origin}${basePath}/callback`);\n    redirectUrl.searchParams.set(\"response_type\", \"code\");\n    const { codeVerifier, codeChallenge } = await generateCodeChallenge();\n    redirectUrl.searchParams.set(\"code_challenge\", codeChallenge);\n    redirectUrl.searchParams.set(\"code_challenge_method\", \"S256\");\n    const response = next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.redirect(redirectUrl.toString());\n    response.cookies.set(namespacedCookie(ECHO_COOKIE.CODE_VERIFIER, config.appId), codeVerifier, {\n        httpOnly: true,\n        secure: \"development\" === \"production\",\n        sameSite: \"lax\",\n        maxAge: 300,\n        // 5 minutes - same as auth code TTL\n        path: \"/\"\n    });\n    return response;\n}\nasync function handleSignOut(req, config) {\n    const { origin } = req.nextUrl;\n    const response = next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.redirect(`${origin}`);\n    response.cookies.delete(namespacedCookie(ECHO_COOKIE.ACCESS_TOKEN, config.appId));\n    response.cookies.delete(namespacedCookie(ECHO_COOKIE.REFRESH_TOKEN, config.appId));\n    response.cookies.delete(namespacedCookie(ECHO_COOKIE.USER_INFO, config.appId));\n    response.cookies.delete(namespacedCookie(ECHO_COOKIE.REFRESH_TOKEN_EXPIRES, config.appId));\n    return response;\n}\nasync function handleCallback(req, config) {\n    const { origin } = req.nextUrl;\n    const basePath = config.basePath || \"/api/echo\";\n    const code = req.nextUrl.searchParams.get(\"code\");\n    const state = req.nextUrl.searchParams.get(\"state\");\n    if (!code || !state) {\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            error: \"Invalid request\"\n        }, {\n            status: 400\n        });\n    }\n    const codeVerifier = req.cookies.get(namespacedCookie(ECHO_COOKIE.CODE_VERIFIER, config.appId))?.value;\n    if (!codeVerifier) {\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            error: \"Code verifier not found. Please try signing in again.\"\n        }, {\n            status: 400\n        });\n    }\n    const tokenEndpoint = `${resolveEchoBaseUrl(config)}/api/oauth/token`;\n    const params = new URLSearchParams();\n    params.set(\"grant_type\", \"authorization_code\");\n    params.set(\"code\", code);\n    params.set(\"redirect_uri\", `${origin}${basePath}/callback`);\n    params.set(\"client_id\", config.appId);\n    params.set(\"code_verifier\", codeVerifier);\n    const tokenResponse = await fetch(tokenEndpoint, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\",\n            \"x-client-user-agent\": req.headers.get(\"user-agent\") || \"\",\n            \"x-client-ip\": req.headers.get(\"x-forwarded-for\")?.split(\",\")[0]?.trim() || \"\"\n        },\n        body: params.toString()\n    });\n    if (!tokenResponse.ok) {\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            error: \"Token exchange failed\"\n        }, {\n            status: 500\n        });\n    }\n    const tokenData = await tokenResponse.json();\n    const response = next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.redirect(`${origin}`);\n    response.cookies.set(namespacedCookie(ECHO_COOKIE.CODE_VERIFIER, config.appId), \"\", {\n        httpOnly: true,\n        secure: \"development\" === \"production\",\n        sameSite: \"lax\",\n        maxAge: 0,\n        // Expire immediately\n        path: \"/\"\n    });\n    response.cookies.set(namespacedCookie(ECHO_COOKIE.ACCESS_TOKEN, config.appId), tokenData.access_token, {\n        httpOnly: true,\n        secure: \"development\" === \"production\",\n        sameSite: \"lax\",\n        maxAge: tokenData.expires_in,\n        // expires_in is typically in seconds\n        path: \"/\"\n    });\n    response.cookies.set(namespacedCookie(ECHO_COOKIE.REFRESH_TOKEN, config.appId), tokenData.refresh_token, {\n        httpOnly: true,\n        secure: \"development\" === \"production\",\n        sameSite: \"lax\",\n        maxAge: tokenData.refresh_token_expires_in,\n        path: \"/\"\n    });\n    response.cookies.set(namespacedCookie(ECHO_COOKIE.USER_INFO, config.appId), JSON.stringify(tokenData.user), {\n        httpOnly: true,\n        secure: \"development\" === \"production\",\n        sameSite: \"lax\",\n        maxAge: tokenData.refresh_token_expires_in,\n        path: \"/\"\n    });\n    response.cookies.set(namespacedCookie(ECHO_COOKIE.REFRESH_TOKEN_EXPIRES, config.appId), String(Math.floor(Date.now() / 1e3) + tokenData.refresh_token_expires_in), {\n        httpOnly: true,\n        secure: \"development\" === \"production\",\n        sameSite: \"lax\",\n        maxAge: tokenData.refresh_token_expires_in,\n        path: \"/\"\n    });\n    return response;\n}\nasync function handleRefresh(req, config) {\n    try {\n        const token = await getEchoToken(config);\n        if (!token) {\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                error: \"No token found\"\n            }, {\n                status: 401\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            success: true\n        });\n    } catch (error) {\n        console.error(\"Error refreshing token:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            error: \"Error refreshing token\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function handleSession(req, config) {\n    const jar = await (0,next_headers__WEBPACK_IMPORTED_MODULE_0__.cookies)();\n    const refreshExp = jar.get(namespacedCookie(ECHO_COOKIE.REFRESH_TOKEN_EXPIRES, config.appId))?.value;\n    const isAuthenticated = !!refreshExp && Number(refreshExp) > Math.floor(Date.now() / 1e3);\n    const userInfo = jar.get(namespacedCookie(ECHO_COOKIE.USER_INFO, config.appId))?.value;\n    const user = userInfo ? JSON.parse(userInfo) : null;\n    return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n        isAuthenticated,\n        user\n    });\n}\n// src/index.ts\nfunction Echo(config) {\n    const httpHandler = async (req)=>{\n        const { pathname } = req.nextUrl;\n        const basePath = config.basePath || \"/api/echo\";\n        const path = pathname.replace(basePath, \"\");\n        if (path.startsWith(\"/proxy\")) {\n            return handleEchoClientProxy(req, config);\n        }\n        switch(path){\n            // all the auth stuff\n            case \"/signin\":\n                return handleSignIn(req, config);\n            case \"/signout\":\n                return handleSignOut(req, config);\n            case \"/callback\":\n                return handleCallback(req, config);\n            case \"/refresh\":\n                return handleRefresh(req, config);\n            case \"/session\":\n                return handleSession(req, config);\n            default:\n                console.error(\"Unknown path\", path);\n                return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.error();\n        }\n    };\n    const getUser = async ()=>{\n        const cookieStore = await (0,next_headers__WEBPACK_IMPORTED_MODULE_0__.cookies)();\n        const userInfo = cookieStore.get(namespacedCookie(ECHO_COOKIE.USER_INFO, config.appId))?.value;\n        if (!userInfo) {\n            return null;\n        }\n        const user = JSON.parse(userInfo);\n        return user;\n    };\n    const isSignedIn = async ()=>{\n        const cookieStore = await (0,next_headers__WEBPACK_IMPORTED_MODULE_0__.cookies)();\n        const refreshTokenExpiry = cookieStore.get(namespacedCookie(ECHO_COOKIE.REFRESH_TOKEN_EXPIRES, config.appId))?.value;\n        if (!refreshTokenExpiry) {\n            return false;\n        }\n        const expiryTime = parseInt(refreshTokenExpiry);\n        const now = Math.floor(Date.now() / 1e3);\n        return expiryTime > now;\n    };\n    return {\n        // HTTP handlers for Next.js API routes\n        handlers: {\n            GET: httpHandler,\n            POST: httpHandler\n        },\n        // Authentication utilities (server-side only)\n        getUser,\n        isSignedIn,\n        getEchoToken: ()=>getEchoToken(config),\n        // AI provider clients\n        openai: createEchoOpenAI(config),\n        anthropic: createEchoAnthropic(config),\n        google: createEchoGoogle(config)\n    };\n}\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQG1lcml0LXN5c3RlbXMrZWNoby1uZXh0LXNka0AwLjAuMjRfQGFpLXNkaytyZWFjdEAyLjAuNjBfcmVhY3RAMTkuMS4wX3pvZEAzLjI1Ljc2X19uZXh0QDE1LjQuX29jbml3NG5lZWtsNXl1bXFjN2RxbHZhNzd1L25vZGVfbW9kdWxlcy9AbWVyaXQtc3lzdGVtcy9lY2hvLW5leHQtc2RrL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXdCO0FBQ2tCOztBQ0duQzs7QUNBQTtBQUMrQjs7QUNMUjtBQUd2QixTQUFTLG1CQUFtQixRQUE0QjtJQUM3RCxPQUFPLE9BQU8sZUFBZSw2RUFBYTtBQUM1Qzs7QUNMTyxJQUFNLGNBQWM7SUFDekIsY0FBYztJQUNkLGVBQWU7SUFDZix1QkFBdUI7SUFDdkIsV0FBVztJQUNYLGVBQWU7QUFDakI7QUFJTyxTQUFTLGlCQUFpQixNQUFzQixPQUF1QjtJQUU1RSxPQUFPLEdBQUcsSUFBSSxJQUFJLEtBQUs7QUFDekI7O0FDYjBCO0FBV25CLFNBQVMsbUJBQW1CLE9BQXdCO0lBQ3pELElBQUk7UUFDRixNQUFNLFVBQVUscURBQVMsQ0FBYSxLQUFLO1FBQzNDLElBQUksQ0FBQyxRQUFRLElBQUssUUFBTztRQUV6QixNQUFNLE1BQU0sS0FBSyxNQUFNLEtBQUssSUFBSSxJQUFJLEdBQUk7UUFFeEMsTUFBTSxhQUFhO1FBQ25CLE9BQU8sUUFBUSxPQUFPLE1BQU07SUFDOUIsU0FBUTtRQUNOLE9BQU87SUFDVDtBQUNGOztBSFBBLGVBQXNCLG9CQUNwQixjQUNBLFFBQ21DO0lBQ25DLE9BQU8sTUFBTSxHQUFHLG1CQUFtQixNQUFNLENBQUMsb0JBQW9CO1FBQzVELFFBQVE7UUFDUixTQUFTO1lBQUUsZ0JBQWdCO1FBQW1CO1FBQzlDLE1BQU0sS0FBSyxVQUFVO1lBQ25CLFlBQVk7WUFDWixlQUFlO1lBQ2YsV0FBVyxPQUFPO1FBQ3BCLENBQUM7SUFDSCxDQUFDLEVB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TUFBTTtRQUM5QjtJQUNGO0lBS0EsTUFBTSxVQUFVO1FBRWQsTUFBTSxjQUFjLE1BQU0scURBQUFELENBQVE7UUFDbEMsTUFBTSxXQUFXLFlBQVksSUFDM0IsaUJBQWlCLFlBQVksV0FBVyxPQUFPLEtBQUssSUFDbkQ7UUFDSCxJQUFJLENBQUMsVUFBVTtZQUNiLE9BQU87UUFDVDtRQUNBLE1BQU0sT0FBTyxLQUFLLE1BQU0sUUFBUTtRQUNoQyxPQUFPO0lBQ1Q7SUFFQSxNQUFNLGFBQWE7UUFDakIsTUFBTSxjQUFjLE1BQU0scURBQUFBLENBQVE7UUFDbEMsTUFBTSxxQkFBcUIsWUFBWSxJQUNyQyxpQkFBaUIsWUFBWSx1QkFBdUIsT0FBTyxLQUFLLElBQy9EO1FBRUgsSUFBSSxDQUFDLG9CQUFvQjtZQUN2QixPQUFPO1FBQ1Q7UUFFQSxNQUFNLGFBQWEsU0FBUyxrQkFBa0I7UUFDOUMsTUFBTSxNQUFNLEtBQUssTUFBTSxLQUFLLElBQUksSUFBSSxHQUFJO1FBRXhDLE9BQU8sYUFBYTtJQUN0QjtJQUVBLE9BQU87UUFBQTtRQUVMLFVBQVU7WUFDUixLQUFLO1lBQ0wsTUFBTTtRQUNSO1FBQUE7UUFHQTtRQUNBO1FBQ0EsY0FBYyxJQUFNLGFBQXFCLE1BQU07UUFBQTtRQUcvQyxRQUFRLGlCQUFpQixNQUFNO1FBQy9CLFdBQVcsb0JBQW9CLE1BQU07UUFDckMsUUFBUSxpQkFBaUIsTUFBTTtJQUNqQztBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvdXRzYXZzaGFybWEvRG9jdW1lbnRzL0dpdEh1Yi9zcmMvaW5kZXgudHMiLCIvVXNlcnMvdXRzYXZzaGFybWEvRG9jdW1lbnRzL0dpdEh1Yi9zcmMvYWktcHJvdmlkZXJzL2FudGhyb3BpYy50cyIsIi9Vc2Vycy91dHNhdnNoYXJtYS9Eb2N1bWVudHMvR2l0SHViL3NyYy9hdXRoL3Rva2VuLW1hbmFnZXIudHMiLCIvVXNlcnMvdXRzYXZzaGFybWEvRG9jdW1lbnRzL0dpdEh1Yi9zcmMvY29uZmlnLnRzIiwiL1VzZXJzL3V0c2F2c2hhcm1hL0RvY3VtZW50cy9HaXRIdWIvc3JjL2F1dGgvY29va2llLW5hbWVzLnRzIiwiL1VzZXJzL3V0c2F2c2hhcm1hL0RvY3VtZW50cy9HaXRIdWIvc3JjL2F1dGgvand0LXV0aWxzLnRzIiwiL1VzZXJzL3V0c2F2c2hhcm1hL0RvY3VtZW50cy9HaXRIdWIvc3JjL2FpLXByb3ZpZGVycy9nb29nbGUudHMiLCIvVXNlcnMvdXRzYXZzaGFybWEvRG9jdW1lbnRzL0dpdEh1Yi9zcmMvYWktcHJvdmlkZXJzL29wZW5haS50cyIsIi9Vc2Vycy91dHNhdnNoYXJtYS9Eb2N1bWVudHMvR2l0SHViL3NyYy9wcm94eS9pbmRleC50cyIsIi9Vc2Vycy91dHNhdnNoYXJtYS9Eb2N1bWVudHMvR2l0SHViL3NyYy9hdXRoL29hdXRoLWhhbmRsZXJzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNvb2tpZXMgfSBmcm9tICduZXh0L2hlYWRlcnMnO1xuaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcblxuaW1wb3J0IHsgRWNob0NvbmZpZywgRWNob1Jlc3VsdCB9IGZyb20gJy4vdHlwZXMnO1xuXG5pbXBvcnQgeyBjcmVhdGVFY2hvQW50aHJvcGljIH0gZnJvbSAnYWktcHJvdmlkZXJzL2FudGhyb3BpYyc7XG5pbXBvcnQgeyBjcmVhdGVFY2hvR29vZ2xlIH0gZnJvbSAnYWktcHJvdmlkZXJzL2dvb2dsZSc7XG5pbXBvcnQgeyBjcmVhdGVFY2hvT3BlbkFJIH0gZnJvbSAnYWktcHJvdmlkZXJzL29wZW5haSc7XG5cbmltcG9ydCB7IENyZWF0ZU9hdXRoVG9rZW5SZXNwb25zZSB9IGZyb20gJ0BtZXJpdC1zeXN0ZW1zL2VjaG8tdHlwZXNjcmlwdC1zZGsnO1xuXG5pbXBvcnQgeyBFQ0hPX0NPT0tJRSwgbmFtZXNwYWNlZENvb2tpZSB9IGZyb20gJ2F1dGgvY29va2llLW5hbWVzJztcbmltcG9ydCB7IGdldEVjaG9Ub2tlbiBhcyBnZXRFY2hvVG9rZW5JbnRlcm5hbCB9IGZyb20gJ2F1dGgvdG9rZW4tbWFuYWdlcic7XG5pbXBvcnQgeyBoYW5kbGVFY2hvQ2xpZW50UHJveHkgfSBmcm9tICdwcm94eSc7XG5pbXBvcnQge1xuICBoYW5kbGVDYWxsYmFjayxcbiAgaGFuZGxlUmVmcmVzaCxcbiAgaGFuZGxlU2lnbkluLFxuICBoYW5kbGVTaWduT3V0LFxuICBoYW5kbGVTZXNzaW9uLFxufSBmcm9tICcuL2F1dGgvb2F1dGgtaGFuZGxlcnMnO1xuXG4vKipcbiAqIEVjaG8gU0RLIGZvciBOZXh0LmpzXG4gKiBQcm92aWRlcyBPQXV0aCBhdXRoZW50aWNhdGlvbiBhbmQgdG9rZW4gbWFuYWdlbWVudCBmb3IgRWNobyBBUEkgaW50ZWdyYXRpb25cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRWNobyhjb25maWc6IEVjaG9Db25maWcpOiBFY2hvUmVzdWx0IHtcbiAgLyoqXG4gICAqIEhUVFAgaGFuZGxlciBmb3IgT0F1dGggcm91dGVzIChzaWduaW4gYW5kIGNhbGxiYWNrKVxuICAgKi9cbiAgY29uc3QgaHR0cEhhbmRsZXIgPSBhc3luYyAocmVxOiBOZXh0UmVxdWVzdCk6IFByb21pc2U8UmVzcG9uc2U+ID0+IHtcbiAgICBjb25zdCB7IHBhdGhuYW1lIH0gPSByZXEubmV4dFVybDtcbiAgICBjb25zdCBiYXNlUGF0aCA9IGNvbmZpZy5iYXNlUGF0aCB8fCAnL2FwaS9lY2hvJztcbiAgICBjb25zdCBwYXRoID0gcGF0aG5hbWUucmVwbGFjZShiYXNlUGF0aCwgJycpO1xuXG4gICAgaWYgKHBhdGguc3RhcnRzV2l0aCgnL3Byb3h5JykpIHtcbiAgICAgIHJldHVybiBoYW5kbGVFY2hvQ2xpZW50UHJveHkocmVxLCBjb25maWcpO1xuICAgIH1cblxuICAgIHN3aXRjaCAocGF0aCkge1xuICAgICAgLy8gYWxsIHRoZSBhdXRoIHN0dWZmXG4gICAgICBjYXNlICcvc2lnbmluJzpcbiAgICAgICAgcmV0dXJuIGhhbmRsZVNpZ25JbihyZXEsIGNvbmZpZyk7XG5cbiAgICAgIGNhc2UgJy9zaWdub3V0JzpcbiAgICAgICAgcmV0dXJuIGhhbmRsZVNpZ25PdXQocmVxLCBjb25maWcpO1xuXG4gICAgICBjYXNlICcvY2FsbGJhY2snOlxuICAgICAgICByZXR1cm4gaGFuZGxlQ2FsbGJhY2socmVxLCBjb25maWcpO1xuXG4gICAgICBjYXNlICcvcmVmcmVzaCc6XG4gICAgICAgIHJldHVybiBoYW5kbGVSZWZyZXNoKHJlcSwgY29uZmlnKTtcblxuICAgICAgY2FzZSAnL3Nlc3Npb24nOlxuICAgICAgICByZXR1cm4gaGFuZGxlU2Vzc2lvbihyZXEsIGNvbmZpZyk7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1Vua25vd24gcGF0aCcsIHBhdGgpO1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmVycm9yKCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgY3VycmVudCB1c2VyIGluZm8gd2l0aCBhdXRvbWF0aWMgdG9rZW4gcmVmcmVzaFxuICAgKi9cbiAgY29uc3QgZ2V0VXNlciA9IGFzeW5jICgpID0+IHtcbiAgICAvLyByZWFkIG9ubHkgYWNjZXNzIHRva2VuLCBpZiBleHBpcmVkIHdlIGFyZSBmdWNrZWRcbiAgICBjb25zdCBjb29raWVTdG9yZSA9IGF3YWl0IGNvb2tpZXMoKTtcbiAgICBjb25zdCB1c2VySW5mbyA9IGNvb2tpZVN0b3JlLmdldChcbiAgICAgIG5hbWVzcGFjZWRDb29raWUoRUNIT19DT09LSUUuVVNFUl9JTkZPLCBjb25maWcuYXBwSWQpXG4gICAgKT8udmFsdWU7XG4gICAgaWYgKCF1c2VySW5mbykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHVzZXIgPSBKU09OLnBhcnNlKHVzZXJJbmZvKSBhcyBDcmVhdGVPYXV0aFRva2VuUmVzcG9uc2VbJ3VzZXInXTtcbiAgICByZXR1cm4gdXNlcjtcbiAgfTtcblxuICBjb25zdCBpc1NpZ25lZEluID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGNvb2tpZVN0b3JlID0gYXdhaXQgY29va2llcygpO1xuICAgIGNvbnN0IHJlZnJlc2hUb2tlbkV4cGlyeSA9IGNvb2tpZVN0b3JlLmdldChcbiAgICAgIG5hbWVzcGFjZWRDb29raWUoRUNIT19DT09LSUUuUkVGUkVTSF9UT0tFTl9FWFBJUkVTLCBjb25maWcuYXBwSWQpXG4gICAgKT8udmFsdWU7XG5cbiAgICBpZiAoIXJlZnJlc2hUb2tlbkV4cGlyeSkge1xuICAgICAgcmV0dXJuIGZhbHNlOyAvLyBObyBleHBpcnkgc3RvcmVkXG4gICAgfVxuXG4gICAgY29uc3QgZXhwaXJ5VGltZSA9IHBhcnNlSW50KHJlZnJlc2hUb2tlbkV4cGlyeSk7XG4gICAgY29uc3Qgbm93ID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCk7XG5cbiAgICByZXR1cm4gZXhwaXJ5VGltZSA+IG5vdzsgLy8gVHJ1ZSBpZiBub3QgZXhwaXJlZFxuICB9O1xuXG4gIHJldHVybiB7XG4gICAgLy8gSFRUUCBoYW5kbGVycyBmb3IgTmV4dC5qcyBBUEkgcm91dGVzXG4gICAgaGFuZGxlcnM6IHtcbiAgICAgIEdFVDogaHR0cEhhbmRsZXIsXG4gICAgICBQT1NUOiBodHRwSGFuZGxlcixcbiAgICB9LFxuXG4gICAgLy8gQXV0aGVudGljYXRpb24gdXRpbGl0aWVzIChzZXJ2ZXItc2lkZSBvbmx5KVxuICAgIGdldFVzZXIsXG4gICAgaXNTaWduZWRJbixcbiAgICBnZXRFY2hvVG9rZW46ICgpID0+IGdldEVjaG9Ub2tlbkludGVybmFsKGNvbmZpZyksXG5cbiAgICAvLyBBSSBwcm92aWRlciBjbGllbnRzXG4gICAgb3BlbmFpOiBjcmVhdGVFY2hvT3BlbkFJKGNvbmZpZyksXG4gICAgYW50aHJvcGljOiBjcmVhdGVFY2hvQW50aHJvcGljKGNvbmZpZyksXG4gICAgZ29vZ2xlOiBjcmVhdGVFY2hvR29vZ2xlKGNvbmZpZyksXG4gIH07XG59XG4iLCJpbXBvcnQge1xuICBBbnRocm9waWNQcm92aWRlcixcbiAgY3JlYXRlRWNob0FudGhyb3BpYyBhcyBjcmVhdGVFY2hvQW50aHJvcGljQmFzZSxcbiAgRWNob0NvbmZpZyxcbn0gZnJvbSAnQG1lcml0LXN5c3RlbXMvZWNoby10eXBlc2NyaXB0LXNkayc7XG5pbXBvcnQgeyBnZXRFY2hvVG9rZW4gfSBmcm9tICcuLi9hdXRoL3Rva2VuLW1hbmFnZXInO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRWNob0FudGhyb3BpYyhjb25maWc6IEVjaG9Db25maWcpOiBBbnRocm9waWNQcm92aWRlciB7XG4gIHJldHVybiBjcmVhdGVFY2hvQW50aHJvcGljQmFzZShjb25maWcsIGFzeW5jICgpID0+IGdldEVjaG9Ub2tlbihjb25maWcpKTtcbn1cbiIsImltcG9ydCB7XG4gIEVjaG9DbGllbnQsXG4gIEVjaG9Db25maWcsXG4gIENyZWF0ZU9hdXRoVG9rZW5SZXNwb25zZSxcbn0gZnJvbSAnQG1lcml0LXN5c3RlbXMvZWNoby10eXBlc2NyaXB0LXNkayc7XG5pbXBvcnQgeyBjb29raWVzIGFzIGdldENvb2tpZXMgfSBmcm9tICduZXh0L2hlYWRlcnMnO1xuaW1wb3J0IHsgcmVzb2x2ZUVjaG9CYXNlVXJsIH0gZnJvbSAnLi4vY29uZmlnJztcbmltcG9ydCB7IEVDSE9fQ09PS0lFLCBuYW1lc3BhY2VkQ29va2llIH0gZnJvbSAnLi9jb29raWUtbmFtZXMnO1xuaW1wb3J0IHsgc2hvdWxkUmVmcmVzaFRva2VuIH0gZnJvbSAnLi9qd3QtdXRpbHMnO1xuXG4vKipcbiAqIFJlZnJlc2ggYW4gYWNjZXNzIHRva2VuIHVzaW5nIGEgcmVmcmVzaCB0b2tlblxuICogQHBhcmFtIHJlZnJlc2hUb2tlbiAtIFRoZSByZWZyZXNoIHRva2VuIHRvIHVzZVxuICogQHBhcmFtIGFwcElkIC0gVGhlIEVjaG8gYXBwIElEXG4gKiBAcmV0dXJucyBQcm9taXNlIHJlc29sdmluZyB0byB0aGUgbmV3IHRva2VuIGRhdGFcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBlcmZvcm1Ub2tlblJlZnJlc2goXG4gIHJlZnJlc2hUb2tlbjogc3RyaW5nLFxuICBjb25maWc6IEVjaG9Db25maWdcbik6IFByb21pc2U8Q3JlYXRlT2F1dGhUb2tlblJlc3BvbnNlPiB7XG4gIHJldHVybiBmZXRjaChgJHtyZXNvbHZlRWNob0Jhc2VVcmwoY29uZmlnKX0vYXBpL29hdXRoL3Rva2VuYCwge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIGdyYW50X3R5cGU6ICdyZWZyZXNoX3Rva2VuJyxcbiAgICAgIHJlZnJlc2hfdG9rZW46IHJlZnJlc2hUb2tlbixcbiAgICAgIGNsaWVudF9pZDogY29uZmlnLmFwcElkLFxuICAgIH0pLFxuICB9KS50aGVuKGFzeW5jIHIgPT4ge1xuICAgIGlmIChyLm9rKSB7XG4gICAgICBjb25zdCB0b2tlbkRhdGEgPSAoYXdhaXQgci5qc29uKCkpIGFzIENyZWF0ZU9hdXRoVG9rZW5SZXNwb25zZTtcbiAgICAgIHJldHVybiB0b2tlbkRhdGE7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoYXdhaXQgci50ZXh0KCkpKTtcbiAgfSk7XG59XG5cbi8qKlxuICogR2V0IGEgdmFsaWQgRWNobyB0b2tlbiwgcmVmcmVzaGluZyBpZiBuZWNlc3NhcnlcbiAqIEBwYXJhbSBhcHBJZCAtIFRoZSBFY2hvIGFwcCBJRCBmb3IgdG9rZW4gcmVmcmVzaFxuICogQHJldHVybnMgUHJvbWlzZSByZXNvbHZpbmcgdG8gYSB2YWxpZCBhY2Nlc3MgdG9rZW4gb3IgbnVsbCBpZiBhdXRoZW50aWNhdGlvbiBmYWlsZWRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEVjaG9Ub2tlbihjb25maWc6IEVjaG9Db25maWcpOiBQcm9taXNlPHN0cmluZyB8IG51bGw+IHtcbiAgY29uc3QgY29va2llcyA9IGF3YWl0IGdldENvb2tpZXMoKTtcbiAgY29uc3QgYWNjZXNzVG9rZW4gPSBjb29raWVzLmdldChcbiAgICBuYW1lc3BhY2VkQ29va2llKEVDSE9fQ09PS0lFLkFDQ0VTU19UT0tFTiwgY29uZmlnLmFwcElkKVxuICApPy52YWx1ZTtcblxuICAvLyBDaGVjayBpZiB0b2tlbiBuZWVkcyByZWZyZXNoXG4gIGlmICghYWNjZXNzVG9rZW4gfHwgc2hvdWxkUmVmcmVzaFRva2VuKGFjY2Vzc1Rva2VuKSkge1xuICAgIGNvbnN0IHJlZnJlc2hUb2tlbiA9IGNvb2tpZXMuZ2V0KFxuICAgICAgbmFtZXNwYWNlZENvb2tpZShFQ0hPX0NPT0tJRS5SRUZSRVNIX1RPS0VOLCBjb25maWcuYXBwSWQpXG4gICAgKT8udmFsdWU7XG5cbiAgICBpZiAoIXJlZnJlc2hUb2tlbikge1xuICAgICAgY29uc29sZS5sb2coJ05vIHJlZnJlc2ggdG9rZW4gZm91bmQnKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZWZyZXNoUmVzdWx0ID0gYXdhaXQgcGVyZm9ybVRva2VuUmVmcmVzaChyZWZyZXNoVG9rZW4sIGNvbmZpZyk7XG5cbiAgICAgIC8vIFNldCBuZXcgdG9rZW5zIGluIGNvb2tpZXNcbiAgICAgIGNvb2tpZXMuc2V0KFxuICAgICAgICBuYW1lc3BhY2VkQ29va2llKEVDSE9fQ09PS0lFLkFDQ0VTU19UT0tFTiwgY29uZmlnLmFwcElkKSxcbiAgICAgICAgcmVmcmVzaFJlc3VsdC5hY2Nlc3NfdG9rZW4sXG4gICAgICAgIHtcbiAgICAgICAgICBodHRwT25seTogdHJ1ZSxcbiAgICAgICAgICBzZWN1cmU6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicsXG4gICAgICAgICAgc2FtZVNpdGU6ICdsYXgnLFxuICAgICAgICAgIG1heEFnZTogcmVmcmVzaFJlc3VsdC5leHBpcmVzX2luLFxuICAgICAgICAgIHBhdGg6ICcvJyxcbiAgICAgICAgfVxuICAgICAgKTtcblxuICAgICAgY29va2llcy5zZXQoXG4gICAgICAgIG5hbWVzcGFjZWRDb29raWUoRUNIT19DT09LSUUuUkVGUkVTSF9UT0tFTiwgY29uZmlnLmFwcElkKSxcbiAgICAgICAgcmVmcmVzaFJlc3VsdC5yZWZyZXNoX3Rva2VuLFxuICAgICAgICB7XG4gICAgICAgICAgaHR0cE9ubHk6IHRydWUsXG4gICAgICAgICAgc2VjdXJlOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nLFxuICAgICAgICAgIHNhbWVTaXRlOiAnbGF4JyxcbiAgICAgICAgICBtYXhBZ2U6IHJlZnJlc2hSZXN1bHQucmVmcmVzaF90b2tlbl9leHBpcmVzX2luLFxuICAgICAgICAgIHBhdGg6ICcvJyxcbiAgICAgICAgfVxuICAgICAgKTtcblxuICAgICAgLy8gU3RvcmUgcmVmcmVzaCB0b2tlbiBleHBpcnkgdGltZSBmb3IgY2hlY2tpbmdcbiAgICAgIGNvb2tpZXMuc2V0KFxuICAgICAgICBuYW1lc3BhY2VkQ29va2llKEVDSE9fQ09PS0lFLlJFRlJFU0hfVE9LRU5fRVhQSVJFUywgY29uZmlnLmFwcElkKSxcbiAgICAgICAgU3RyaW5nKFxuICAgICAgICAgIE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApICsgcmVmcmVzaFJlc3VsdC5yZWZyZXNoX3Rva2VuX2V4cGlyZXNfaW5cbiAgICAgICAgKSxcbiAgICAgICAge1xuICAgICAgICAgIGh0dHBPbmx5OiB0cnVlLFxuICAgICAgICAgIHNlY3VyZTogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyxcbiAgICAgICAgICBzYW1lU2l0ZTogJ2xheCcsXG4gICAgICAgICAgbWF4QWdlOiByZWZyZXNoUmVzdWx0LnJlZnJlc2hfdG9rZW5fZXhwaXJlc19pbixcbiAgICAgICAgICBwYXRoOiAnLycsXG4gICAgICAgIH1cbiAgICAgICk7XG5cbiAgICAgIHJldHVybiByZWZyZXNoUmVzdWx0LmFjY2Vzc190b2tlbjtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignVG9rZW4gcmVmcmVzaCBmYWlsZWQ6JywgcmVmcmVzaFRva2VuLCBlcnJvcik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYWNjZXNzVG9rZW47XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVc2VyKGNvbmZpZzogRWNob0NvbmZpZykge1xuICBjb25zdCBlY2hvID0gYXdhaXQgZ2V0RWNob0NsaWVudChjb25maWcpO1xuICBpZiAoIWVjaG8pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1VzZXIgbm90IHNpZ25lZCBpbicpO1xuICB9XG4gIHJldHVybiBlY2hvLnVzZXJzLmdldFVzZXJJbmZvKCk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRFY2hvQ2xpZW50KFxuICBjb25maWc6IEVjaG9Db25maWdcbik6IFByb21pc2U8RWNob0NsaWVudCB8IG51bGw+IHtcbiAgY29uc3QgdG9rZW4gPSBhd2FpdCBnZXRFY2hvVG9rZW4oY29uZmlnKTtcbiAgaWYgKCF0b2tlbikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBuZXcgRWNob0NsaWVudCh7XG4gICAgYmFzZVVybDogcmVzb2x2ZUVjaG9CYXNlVXJsKGNvbmZpZyksXG4gICAgYXBpS2V5OiB0b2tlbixcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBFQ0hPX0JBU0VfVVJMIH0gZnJvbSAnQG1lcml0LXN5c3RlbXMvZWNoby10eXBlc2NyaXB0LXNkayc7XG5pbXBvcnQgdHlwZSB7IEVjaG9Db25maWcgfSBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVFY2hvQmFzZVVybChjb25maWc6IEVjaG9Db25maWcpOiBzdHJpbmcge1xuICByZXR1cm4gY29uZmlnLmJhc2VFY2hvVXJsIHx8IEVDSE9fQkFTRV9VUkw7XG59XG4iLCJleHBvcnQgY29uc3QgRUNIT19DT09LSUUgPSB7XG4gIEFDQ0VTU19UT0tFTjogJ2VjaG9fYWNjZXNzX3Rva2VuJyxcbiAgUkVGUkVTSF9UT0tFTjogJ2VjaG9fcmVmcmVzaF90b2tlbicsXG4gIFJFRlJFU0hfVE9LRU5fRVhQSVJFUzogJ2VjaG9fcmVmcmVzaF90b2tlbl9leHBpcmVzJyxcbiAgVVNFUl9JTkZPOiAnZWNob191c2VyX2luZm8nLFxuICBDT0RFX1ZFUklGSUVSOiAnZWNob19jb2RlX3ZlcmlmaWVyJyxcbn0gYXMgY29uc3Q7XG5cbmV4cG9ydCB0eXBlIEVjaG9Db29raWVOYW1lID0gKHR5cGVvZiBFQ0hPX0NPT0tJRSlba2V5b2YgdHlwZW9mIEVDSE9fQ09PS0lFXTtcblxuZXhwb3J0IGZ1bmN0aW9uIG5hbWVzcGFjZWRDb29raWUobmFtZTogRWNob0Nvb2tpZU5hbWUsIGFwcElkOiBzdHJpbmcpOiBzdHJpbmcge1xuICAvLyBFbnN1cmUgY29uc2lzdGVudCBkZWxpbWl0ZXIgYW5kIGF2b2lkIGFjY2lkZW50YWwgZG91YmxlIHVuZGVyc2NvcmVzXG4gIHJldHVybiBgJHtuYW1lfV8ke2FwcElkfWA7XG59XG4iLCJpbXBvcnQgeyBqd3REZWNvZGUgfSBmcm9tICdqd3QtZGVjb2RlJztcblxuaW50ZXJmYWNlIEp3dFBheWxvYWQge1xuICBleHA/OiBudW1iZXI7XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgYSBKV1QgdG9rZW4gbmVlZHMgdG8gYmUgcmVmcmVzaGVkXG4gKiBAcGFyYW0gdG9rZW4gLSBUaGUgSldUIGFjY2VzcyB0b2tlbiB0byBjaGVja1xuICogQHJldHVybnMgdHJ1ZSBpZiB0b2tlbiBzaG91bGQgYmUgcmVmcmVzaGVkLCBmYWxzZSBvdGhlcndpc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNob3VsZFJlZnJlc2hUb2tlbih0b2tlbjogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHRyeSB7XG4gICAgY29uc3QgZGVjb2RlZCA9IGp3dERlY29kZTxKd3RQYXlsb2FkPih0b2tlbik7XG4gICAgaWYgKCFkZWNvZGVkLmV4cCkgcmV0dXJuIHRydWU7XG5cbiAgICBjb25zdCBub3cgPSBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKTtcbiAgICAvLyBSZWZyZXNoIGlmIHRva2VuIGV4cGlyZXMgd2l0aGluIDMwIHNlY29uZHNcbiAgICBjb25zdCBidWZmZXJUaW1lID0gMzA7XG4gICAgcmV0dXJuIGRlY29kZWQuZXhwIDw9IG5vdyArIGJ1ZmZlclRpbWU7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiB0cnVlOyAvLyBJZiB3ZSBjYW4ndCBkZWNvZGUsIGFzc3VtZSBpdCBuZWVkcyByZWZyZXNoXG4gIH1cbn1cbiIsImltcG9ydCB7XG4gIGNyZWF0ZUVjaG9Hb29nbGUgYXMgY3JlYXRlRWNob0dvb2dsZUJhc2UsXG4gIEVjaG9Db25maWcsXG4gIEdvb2dsZUdlbmVyYXRpdmVBSVByb3ZpZGVyLFxufSBmcm9tICdAbWVyaXQtc3lzdGVtcy9lY2hvLXR5cGVzY3JpcHQtc2RrJztcbmltcG9ydCB7IGdldEVjaG9Ub2tlbiB9IGZyb20gJy4uL2F1dGgvdG9rZW4tbWFuYWdlcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFY2hvR29vZ2xlKFxuICBjb25maWc6IEVjaG9Db25maWdcbik6IEdvb2dsZUdlbmVyYXRpdmVBSVByb3ZpZGVyIHtcbiAgcmV0dXJuIGNyZWF0ZUVjaG9Hb29nbGVCYXNlKGNvbmZpZywgYXN5bmMgKCkgPT4gZ2V0RWNob1Rva2VuKGNvbmZpZykpO1xufVxuIiwiaW1wb3J0IHsgZ2V0RWNob1Rva2VuIH0gZnJvbSAnLi4vYXV0aC90b2tlbi1tYW5hZ2VyJztcbmltcG9ydCB7XG4gIGNyZWF0ZUVjaG9PcGVuQUkgYXMgY3JlYXRlRWNob09wZW5BSUJhc2UsXG4gIEVjaG9Db25maWcsXG4gIE9wZW5BSVByb3ZpZGVyLFxufSBmcm9tICdAbWVyaXQtc3lzdGVtcy9lY2hvLXR5cGVzY3JpcHQtc2RrJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVjaG9PcGVuQUkoY29uZmlnOiBFY2hvQ29uZmlnKTogT3BlbkFJUHJvdmlkZXIge1xuICByZXR1cm4gY3JlYXRlRWNob09wZW5BSUJhc2UoY29uZmlnLCBhc3luYyAoKSA9PiBnZXRFY2hvVG9rZW4oY29uZmlnKSk7XG59XG4iLCJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgZ2V0RWNob1Rva2VuIH0gZnJvbSAnLi4vYXV0aC90b2tlbi1tYW5hZ2VyJztcbmltcG9ydCB7IEVjaG9Db25maWcgfSBmcm9tICcuLi90eXBlcyc7XG4vKipcbiAqIFByb3h5IHJlcXVlc3RzIHRvIEVjaG8gc2VydmljZSB3aXRoIGF1dG9tYXRpYyBhdXRoZW50aWNhdGlvblxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlRWNob0NsaWVudFByb3h5KFxuICByZXE6IE5leHRSZXF1ZXN0LFxuICBjb25maWc6IEVjaG9Db25maWdcbik6IFByb21pc2U8UmVzcG9uc2U+IHtcbiAgY29uc3QgcHJveHlQYXRoID0gcmVxLm5leHRVcmwucGF0aG5hbWUucmVwbGFjZSgvXi4qXFwvcHJveHkvLCAnJyk7XG4gIGNvbnN0IGJhc2VVcmwgPSBjb25maWcuYmFzZUVjaG9VcmwgfHwgJ2h0dHBzOi8vZWNoby5tZXJpdC5zeXN0ZW1zJztcbiAgY29uc3QgdGFyZ2V0VXJsID0gYCR7YmFzZVVybH0ke3Byb3h5UGF0aH1gO1xuXG4gIGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyhyZXEuaGVhZGVycyk7XG4gIGhlYWRlcnMuZGVsZXRlKCdob3N0Jyk7XG4gIC8vIERvbid0IGFzayB1cHN0cmVhbSB0byBjb21wcmVzc1xuICBoZWFkZXJzLmRlbGV0ZSgnYWNjZXB0LWVuY29kaW5nJyk7XG4gIGhlYWRlcnMuc2V0KCdhY2NlcHQtZW5jb2RpbmcnLCAnaWRlbnRpdHknKTtcblxuICAvLyBPcHRpb25hbDogYWxzbyBkcm9wIGNvbmRpdGlvbmFsIGhlYWRlcnMgdG8gYXZvaWQgd2VpcmRuZXNzXG4gIGhlYWRlcnMuZGVsZXRlKCdpZi1ub25lLW1hdGNoJyk7XG4gIGhlYWRlcnMuZGVsZXRlKCdpZi1tb2RpZmllZC1zaW5jZScpO1xuXG4gIC8vIEdldCB2YWxpZCB0b2tlbiB1c2luZyBleGlzdGluZyBmdW5jdGlvbiAoaGFuZGxlcyByZWZyZXNoIGF1dG9tYXRpY2FsbHkpXG4gIGNvbnN0IGFjY2Vzc1Rva2VuID0gYXdhaXQgZ2V0RWNob1Rva2VuKGNvbmZpZyk7XG5cbiAgaWYgKCFhY2Nlc3NUb2tlbikge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6ICdBdXRoZW50aWNhdGlvbiByZXF1aXJlZCcgfSxcbiAgICAgIHsgc3RhdHVzOiA0MDEgfVxuICAgICk7XG4gIH1cbiAgLy8gSW5qZWN0IHRoZSB2YWxpZCB0b2tlblxuICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIGBCZWFyZXIgJHthY2Nlc3NUb2tlbn1gKTtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRhcmdldFVybCwge1xuICAgICAgbWV0aG9kOiByZXEubWV0aG9kLFxuICAgICAgaGVhZGVycyxcbiAgICAgIC4uLihyZXEubWV0aG9kICE9PSAnR0VUJyAmJlxuICAgICAgICByZXEubWV0aG9kICE9PSAnSEVBRCcgJiYge1xuICAgICAgICAgIGJvZHk6IHJlcS5ib2R5LFxuICAgICAgICAgIGR1cGxleDogJ2hhbGYnLFxuICAgICAgICB9KSxcbiAgICB9KTtcblxuICAgIHJldHVybiByZXNwb25zZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdQcm94eSByZXF1ZXN0IGZhaWxlZDonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogJ1Byb3h5IHJlcXVlc3QgZmFpbGVkJyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufVxuIiwiaW1wb3J0IHtcbiAgRWNob0NvbmZpZyxcbiAgQ3JlYXRlT2F1dGhUb2tlblJlc3BvbnNlLFxufSBmcm9tICdAbWVyaXQtc3lzdGVtcy9lY2hvLXR5cGVzY3JpcHQtc2RrJztcbmltcG9ydCB7IGNvb2tpZXMgfSBmcm9tICduZXh0L2hlYWRlcnMnO1xuaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7IHJlc29sdmVFY2hvQmFzZVVybCB9IGZyb20gJy4uL2NvbmZpZyc7XG5pbXBvcnQgeyBFQ0hPX0NPT0tJRSwgbmFtZXNwYWNlZENvb2tpZSB9IGZyb20gJy4vY29va2llLW5hbWVzJztcbmltcG9ydCB7IGdldEVjaG9Ub2tlbiB9IGZyb20gJy4vdG9rZW4tbWFuYWdlcic7XG5cbi8qKlxuICogR2VuZXJhdGUgUEtDRSBjb2RlIGNoYWxsZW5nZSBhbmQgdmVyaWZpZXJcbiAqIEByZXR1cm5zIE9iamVjdCBjb250YWluaW5nIGNvZGUgdmVyaWZpZXIgYW5kIGNoYWxsZW5nZVxuICovXG5hc3luYyBmdW5jdGlvbiBnZW5lcmF0ZUNvZGVDaGFsbGVuZ2UoKTogUHJvbWlzZTx7XG4gIGNvZGVWZXJpZmllcjogc3RyaW5nO1xuICBjb2RlQ2hhbGxlbmdlOiBzdHJpbmc7XG59PiB7XG4gIGNvbnN0IGNvZGVWZXJpZmllciA9IEFycmF5LmZyb20oY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheSgzMikpKVxuICAgIC5tYXAoYiA9PiBiLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpKVxuICAgIC5qb2luKCcnKTtcblxuICBjb25zdCBlbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7XG4gIGNvbnN0IGNvZGVDaGFsbGVuZ2VCdWZmZXIgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmRpZ2VzdChcbiAgICAnU0hBLTI1NicsXG4gICAgZW5jb2Rlci5lbmNvZGUoY29kZVZlcmlmaWVyKVxuICApO1xuXG4gIGNvbnN0IGNvZGVDaGFsbGVuZ2UgPSBidG9hKFxuICAgIFN0cmluZy5mcm9tQ2hhckNvZGUoLi4ubmV3IFVpbnQ4QXJyYXkoY29kZUNoYWxsZW5nZUJ1ZmZlcikpXG4gIClcbiAgICAucmVwbGFjZSgvXFwrL2csICctJylcbiAgICAucmVwbGFjZSgvXFwvL2csICdfJylcbiAgICAucmVwbGFjZSgvPSskLywgJycpO1xuXG4gIHJldHVybiB7IGNvZGVWZXJpZmllciwgY29kZUNoYWxsZW5nZSB9O1xufVxuXG4vKipcbiAqIEhhbmRsZSBPQXV0aCBzaWduaW4gcmVxdWVzdCAtIHJlZGlyZWN0IHRvIEVjaG8gYXV0aG9yaXphdGlvbiBzZXJ2ZXJcbiAqIEBwYXJhbSByZXEgLSBUaGUgaW5jb21pbmcgTmV4dC5qcyByZXF1ZXN0XG4gKiBAcGFyYW0gY29uZmlnIC0gRWNobyBjb25maWd1cmF0aW9uXG4gKiBAcmV0dXJucyBOZXh0UmVzcG9uc2Ugd2l0aCByZWRpcmVjdCB0byBhdXRob3JpemF0aW9uIHNlcnZlclxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlU2lnbkluKFxuICByZXE6IE5leHRSZXF1ZXN0LFxuICBjb25maWc6IEVjaG9Db25maWdcbik6IFByb21pc2U8TmV4dFJlc3BvbnNlPiB7XG4gIGNvbnN0IHsgb3JpZ2luIH0gPSByZXEubmV4dFVybDtcbiAgY29uc3QgYmFzZVBhdGggPSBjb25maWcuYmFzZVBhdGggfHwgJy9hcGkvZWNobyc7XG5cbiAgY29uc3QgYmFzZVVybCA9IHJlc29sdmVFY2hvQmFzZVVybChjb25maWcpO1xuXG4gIGNvbnN0IHJlZGlyZWN0VXJsID0gbmV3IFVSTChgJHtiYXNlVXJsfS9hcGkvb2F1dGgvYXV0aG9yaXplYCk7XG4gIHJlZGlyZWN0VXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2NsaWVudF9pZCcsIGNvbmZpZy5hcHBJZCk7XG4gIHJlZGlyZWN0VXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3JlZGlyZWN0X3VyaScsIGAke29yaWdpbn0ke2Jhc2VQYXRofS9jYWxsYmFja2ApO1xuICByZWRpcmVjdFVybC5zZWFyY2hQYXJhbXMuc2V0KCdyZXNwb25zZV90eXBlJywgJ2NvZGUnKTtcblxuICBjb25zdCB7IGNvZGVWZXJpZmllciwgY29kZUNoYWxsZW5nZSB9ID0gYXdhaXQgZ2VuZXJhdGVDb2RlQ2hhbGxlbmdlKCk7XG5cbiAgcmVkaXJlY3RVcmwuc2VhcmNoUGFyYW1zLnNldCgnY29kZV9jaGFsbGVuZ2UnLCBjb2RlQ2hhbGxlbmdlKTtcbiAgcmVkaXJlY3RVcmwuc2VhcmNoUGFyYW1zLnNldCgnY29kZV9jaGFsbGVuZ2VfbWV0aG9kJywgJ1MyNTYnKTtcblxuICAvLyBDcmVhdGUgcmVzcG9uc2Ugd2l0aCByZWRpcmVjdCBhbmQgc2V0IGNvb2tpZSBmb3IgY29kZSB2ZXJpZmllclxuICBjb25zdCByZXNwb25zZSA9IE5leHRSZXNwb25zZS5yZWRpcmVjdChyZWRpcmVjdFVybC50b1N0cmluZygpKTtcblxuICAvLyBTZXQgdGhlIGNvZGUgdmVyaWZpZXIgaW4gYSBzZWN1cmUgY29va2llIHRoYXQgd2lsbCBiZSBhdmFpbGFibGUgZHVyaW5nIGNhbGxiYWNrXG4gIHJlc3BvbnNlLmNvb2tpZXMuc2V0KFxuICAgIG5hbWVzcGFjZWRDb29raWUoRUNIT19DT09LSUUuQ09ERV9WRVJJRklFUiwgY29uZmlnLmFwcElkKSxcbiAgICBjb2RlVmVyaWZpZXIsXG4gICAge1xuICAgICAgaHR0cE9ubHk6IHRydWUsXG4gICAgICBzZWN1cmU6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicsXG4gICAgICBzYW1lU2l0ZTogJ2xheCcsXG4gICAgICBtYXhBZ2U6IDMwMCwgLy8gNSBtaW51dGVzIC0gc2FtZSBhcyBhdXRoIGNvZGUgVFRMXG4gICAgICBwYXRoOiAnLycsXG4gICAgfVxuICApO1xuXG4gIHJldHVybiByZXNwb25zZTtcbn1cblxuLyoqXG4gKiBIYW5kbGUgT0F1dGggc2lnbm91dCByZXF1ZXN0IC0gcmVkaXJlY3QgdG8gaG9tZSBwYWdlIGFuZCBjbGVhciBjb29raWVzXG4gKiBAcGFyYW0gcmVxIC0gVGhlIGluY29taW5nIE5leHQuanMgcmVxdWVzdFxuICogQHBhcmFtIGNvbmZpZyAtIEVjaG8gY29uZmlndXJhdGlvblxuICogQHJldHVybnMgTmV4dFJlc3BvbnNlIHdpdGggcmVkaXJlY3QgdG8gaG9tZSBwYWdlIGFuZCBjb29raWVzIGNsZWFyZWRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZVNpZ25PdXQoXG4gIHJlcTogTmV4dFJlcXVlc3QsXG4gIGNvbmZpZzogRWNob0NvbmZpZ1xuKTogUHJvbWlzZTxOZXh0UmVzcG9uc2U+IHtcbiAgY29uc3QgeyBvcmlnaW4gfSA9IHJlcS5uZXh0VXJsO1xuICBjb25zdCByZXNwb25zZSA9IE5leHRSZXNwb25zZS5yZWRpcmVjdChgJHtvcmlnaW59YCk7XG5cbiAgcmVzcG9uc2UuY29va2llcy5kZWxldGUoXG4gICAgbmFtZXNwYWNlZENvb2tpZShFQ0hPX0NPT0tJRS5BQ0NFU1NfVE9LRU4sIGNvbmZpZy5hcHBJZClcbiAgKTtcbiAgcmVzcG9uc2UuY29va2llcy5kZWxldGUoXG4gICAgbmFtZXNwYWNlZENvb2tpZShFQ0hPX0NPT0tJRS5SRUZSRVNIX1RPS0VOLCBjb25maWcuYXBwSWQpXG4gICk7XG4gIHJlc3BvbnNlLmNvb2tpZXMuZGVsZXRlKFxuICAgIG5hbWVzcGFjZWRDb29raWUoRUNIT19DT09LSUUuVVNFUl9JTkZPLCBjb25maWcuYXBwSWQpXG4gICk7XG4gIHJlc3BvbnNlLmNvb2tpZXMuZGVsZXRlKFxuICAgIG5hbWVzcGFjZWRDb29raWUoRUNIT19DT09LSUUuUkVGUkVTSF9UT0tFTl9FWFBJUkVTLCBjb25maWcuYXBwSWQpXG4gICk7XG5cbiAgcmV0dXJuIHJlc3BvbnNlO1xufVxuXG4vKipcbiAqIEhhbmRsZSBPQXV0aCBjYWxsYmFjayAtIGV4Y2hhbmdlIGF1dGhvcml6YXRpb24gY29kZSBmb3IgdG9rZW5zXG4gKiBAcGFyYW0gcmVxIC0gVGhlIGluY29taW5nIE5leHQuanMgcmVxdWVzdFxuICogQHBhcmFtIGNvbmZpZyAtIEVjaG8gY29uZmlndXJhdGlvblxuXG4gIHJlc3BvbnNlLmNvb2tpZXMuc2V0KCdlY2hvX2FjY2Vzc190b2tlbicsICcnLCB7XG4gICAgaHR0cE9ubHk6IHRydWUsXG4gICAgc2VjdXJlOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nLFxuICAgIHNhbWVTaXRlOiAnbGF4JyxcbiAgICBtYXhBZ2U6IDAsXG4gICAgcGF0aDogJy8nLFxuICB9KTtcbiAqIEByZXR1cm5zIE5leHRSZXNwb25zZSB3aXRoIHJlZGlyZWN0IHRvIGhvbWUgcGFnZSBhbmQgdG9rZW5zIHNldCBhcyBjb29raWVzXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVDYWxsYmFjayhcbiAgcmVxOiBOZXh0UmVxdWVzdCxcbiAgY29uZmlnOiBFY2hvQ29uZmlnXG4pOiBQcm9taXNlPE5leHRSZXNwb25zZT4ge1xuICBjb25zdCB7IG9yaWdpbiB9ID0gcmVxLm5leHRVcmw7XG4gIGNvbnN0IGJhc2VQYXRoID0gY29uZmlnLmJhc2VQYXRoIHx8ICcvYXBpL2VjaG8nO1xuXG4gIGNvbnN0IGNvZGUgPSByZXEubmV4dFVybC5zZWFyY2hQYXJhbXMuZ2V0KCdjb2RlJyk7XG4gIGNvbnN0IHN0YXRlID0gcmVxLm5leHRVcmwuc2VhcmNoUGFyYW1zLmdldCgnc3RhdGUnKTtcblxuICBpZiAoIWNvZGUgfHwgIXN0YXRlKSB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdJbnZhbGlkIHJlcXVlc3QnIH0sIHsgc3RhdHVzOiA0MDAgfSk7XG4gIH1cblxuICAvLyBSZXRyaWV2ZSB0aGUgY29kZSB2ZXJpZmllciBmcm9tIHRoZSBjb29raWVcbiAgY29uc3QgY29kZVZlcmlmaWVyID0gcmVxLmNvb2tpZXMuZ2V0KFxuICAgIG5hbWVzcGFjZWRDb29raWUoRUNIT19DT09LSUUuQ09ERV9WRVJJRklFUiwgY29uZmlnLmFwcElkKVxuICApPy52YWx1ZTtcblxuICBpZiAoIWNvZGVWZXJpZmllcikge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6ICdDb2RlIHZlcmlmaWVyIG5vdCBmb3VuZC4gUGxlYXNlIHRyeSBzaWduaW5nIGluIGFnYWluLicgfSxcbiAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICk7XG4gIH1cblxuICAvLyBFeGNoYW5nZSB0aGUgY29kZSBmb3IgYSB0b2tlbiBmcm9tIHRoZSB0b2tlbiBlbmRwb2ludFxuICBjb25zdCB0b2tlbkVuZHBvaW50ID0gYCR7cmVzb2x2ZUVjaG9CYXNlVXJsKGNvbmZpZyl9L2FwaS9vYXV0aC90b2tlbmA7XG5cbiAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICBwYXJhbXMuc2V0KCdncmFudF90eXBlJywgJ2F1dGhvcml6YXRpb25fY29kZScpO1xuICBwYXJhbXMuc2V0KCdjb2RlJywgY29kZSk7XG4gIHBhcmFtcy5zZXQoJ3JlZGlyZWN0X3VyaScsIGAke29yaWdpbn0ke2Jhc2VQYXRofS9jYWxsYmFja2ApO1xuICBwYXJhbXMuc2V0KCdjbGllbnRfaWQnLCBjb25maWcuYXBwSWQpO1xuICBwYXJhbXMuc2V0KCdjb2RlX3ZlcmlmaWVyJywgY29kZVZlcmlmaWVyKTtcblxuICBjb25zdCB0b2tlblJlc3BvbnNlID0gYXdhaXQgZmV0Y2godG9rZW5FbmRwb2ludCwge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyxcbiAgICAgICd4LWNsaWVudC11c2VyLWFnZW50JzogcmVxLmhlYWRlcnMuZ2V0KCd1c2VyLWFnZW50JykgfHwgJycsXG4gICAgICAneC1jbGllbnQtaXAnOlxuICAgICAgICByZXEuaGVhZGVycy5nZXQoJ3gtZm9yd2FyZGVkLWZvcicpPy5zcGxpdCgnLCcpWzBdPy50cmltKCkgfHwgJycsXG4gICAgfSxcbiAgICBib2R5OiBwYXJhbXMudG9TdHJpbmcoKSxcbiAgfSk7XG5cbiAgaWYgKCF0b2tlblJlc3BvbnNlLm9rKSB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogJ1Rva2VuIGV4Y2hhbmdlIGZhaWxlZCcgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cblxuICBjb25zdCB0b2tlbkRhdGEgPSAoYXdhaXQgdG9rZW5SZXNwb25zZS5qc29uKCkpIGFzIENyZWF0ZU9hdXRoVG9rZW5SZXNwb25zZTtcblxuICBjb25zdCByZXNwb25zZSA9IE5leHRSZXNwb25zZS5yZWRpcmVjdChgJHtvcmlnaW59YCk7XG5cbiAgLy8gQ2xlYXIgdGhlIGNvZGUgdmVyaWZpZXIgY29va2llIGFmdGVyIHN1Y2Nlc3NmdWwgdG9rZW4gZXhjaGFuZ2VcbiAgcmVzcG9uc2UuY29va2llcy5zZXQoXG4gICAgbmFtZXNwYWNlZENvb2tpZShFQ0hPX0NPT0tJRS5DT0RFX1ZFUklGSUVSLCBjb25maWcuYXBwSWQpLFxuICAgICcnLFxuICAgIHtcbiAgICAgIGh0dHBPbmx5OiB0cnVlLFxuICAgICAgc2VjdXJlOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nLFxuICAgICAgc2FtZVNpdGU6ICdsYXgnLFxuICAgICAgbWF4QWdlOiAwLCAvLyBFeHBpcmUgaW1tZWRpYXRlbHlcbiAgICAgIHBhdGg6ICcvJyxcbiAgICB9XG4gICk7XG5cbiAgLy8gU2V0IHRoZSBhY2Nlc3MgdG9rZW4gYXMgYSBjb29raWVcbiAgcmVzcG9uc2UuY29va2llcy5zZXQoXG4gICAgbmFtZXNwYWNlZENvb2tpZShFQ0hPX0NPT0tJRS5BQ0NFU1NfVE9LRU4sIGNvbmZpZy5hcHBJZCksXG4gICAgdG9rZW5EYXRhLmFjY2Vzc190b2tlbixcbiAgICB7XG4gICAgICBodHRwT25seTogdHJ1ZSxcbiAgICAgIHNlY3VyZTogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyxcbiAgICAgIHNhbWVTaXRlOiAnbGF4JyxcbiAgICAgIG1heEFnZTogdG9rZW5EYXRhLmV4cGlyZXNfaW4sIC8vIGV4cGlyZXNfaW4gaXMgdHlwaWNhbGx5IGluIHNlY29uZHNcbiAgICAgIHBhdGg6ICcvJyxcbiAgICB9XG4gICk7XG5cbiAgcmVzcG9uc2UuY29va2llcy5zZXQoXG4gICAgbmFtZXNwYWNlZENvb2tpZShFQ0hPX0NPT0tJRS5SRUZSRVNIX1RPS0VOLCBjb25maWcuYXBwSWQpLFxuICAgIHRva2VuRGF0YS5yZWZyZXNoX3Rva2VuLFxuICAgIHtcbiAgICAgIGh0dHBPbmx5OiB0cnVlLFxuICAgICAgc2VjdXJlOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nLFxuICAgICAgc2FtZVNpdGU6ICdsYXgnLFxuICAgICAgbWF4QWdlOiB0b2tlbkRhdGEucmVmcmVzaF90b2tlbl9leHBpcmVzX2luLFxuICAgICAgcGF0aDogJy8nLFxuICAgIH1cbiAgKTtcblxuICByZXNwb25zZS5jb29raWVzLnNldChcbiAgICBuYW1lc3BhY2VkQ29va2llKEVDSE9fQ09PS0lFLlVTRVJfSU5GTywgY29uZmlnLmFwcElkKSxcbiAgICBKU09OLnN0cmluZ2lmeSh0b2tlbkRhdGEudXNlciksXG4gICAge1xuICAgICAgaHR0cE9ubHk6IHRydWUsXG4gICAgICBzZWN1cmU6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicsXG4gICAgICBzYW1lU2l0ZTogJ2xheCcsXG4gICAgICBtYXhBZ2U6IHRva2VuRGF0YS5yZWZyZXNoX3Rva2VuX2V4cGlyZXNfaW4sXG4gICAgICBwYXRoOiAnLycsXG4gICAgfVxuICApO1xuXG4gIC8vIFN0b3JlIHJlZnJlc2ggdG9rZW4gZXhwaXJ5IHRpbWUgZm9yIGNoZWNraW5nXG4gIHJlc3BvbnNlLmNvb2tpZXMuc2V0KFxuICAgIG5hbWVzcGFjZWRDb29raWUoRUNIT19DT09LSUUuUkVGUkVTSF9UT0tFTl9FWFBJUkVTLCBjb25maWcuYXBwSWQpLFxuICAgIFN0cmluZyhNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKSArIHRva2VuRGF0YS5yZWZyZXNoX3Rva2VuX2V4cGlyZXNfaW4pLFxuICAgIHtcbiAgICAgIGh0dHBPbmx5OiB0cnVlLFxuICAgICAgc2VjdXJlOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nLFxuICAgICAgc2FtZVNpdGU6ICdsYXgnLFxuICAgICAgbWF4QWdlOiB0b2tlbkRhdGEucmVmcmVzaF90b2tlbl9leHBpcmVzX2luLFxuICAgICAgcGF0aDogJy8nLFxuICAgIH1cbiAgKTtcblxuICByZXR1cm4gcmVzcG9uc2U7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVSZWZyZXNoKFxuICByZXE6IE5leHRSZXF1ZXN0LFxuICBjb25maWc6IEVjaG9Db25maWdcbik6IFByb21pc2U8TmV4dFJlc3BvbnNlPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgdG9rZW4gPSBhd2FpdCBnZXRFY2hvVG9rZW4oY29uZmlnKTtcbiAgICBpZiAoIXRva2VuKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ05vIHRva2VuIGZvdW5kJyB9LCB7IHN0YXR1czogNDAxIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN1Y2Nlc3M6IHRydWUgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVmcmVzaGluZyB0b2tlbjonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogJ0Vycm9yIHJlZnJlc2hpbmcgdG9rZW4nIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVTZXNzaW9uKHJlcTogTmV4dFJlcXVlc3QsIGNvbmZpZzogRWNob0NvbmZpZykge1xuICBjb25zdCBqYXIgPSBhd2FpdCBjb29raWVzKCk7XG4gIGNvbnN0IHJlZnJlc2hFeHAgPSBqYXIuZ2V0KFxuICAgIG5hbWVzcGFjZWRDb29raWUoRUNIT19DT09LSUUuUkVGUkVTSF9UT0tFTl9FWFBJUkVTLCBjb25maWcuYXBwSWQpXG4gICk/LnZhbHVlO1xuICBjb25zdCBpc0F1dGhlbnRpY2F0ZWQgPVxuICAgICEhcmVmcmVzaEV4cCAmJiBOdW1iZXIocmVmcmVzaEV4cCkgPiBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKTtcbiAgY29uc3QgdXNlckluZm8gPSBqYXIuZ2V0KFxuICAgIG5hbWVzcGFjZWRDb29raWUoRUNIT19DT09LSUUuVVNFUl9JTkZPLCBjb25maWcuYXBwSWQpXG4gICk/LnZhbHVlO1xuICBjb25zdCB1c2VyID0gdXNlckluZm8gPyBKU09OLnBhcnNlKHVzZXJJbmZvKSA6IG51bGw7XG4gIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGlzQXV0aGVudGljYXRlZCwgdXNlciB9KTtcbn1cbiJdLCJuYW1lcyI6WyJjb29raWVzIiwiTmV4dFJlc3BvbnNlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@merit-systems+echo-next-sdk@0.0.24_@ai-sdk+react@2.0.60_react@19.1.0_zod@3.25.76__next@15.4._ocniw4neekl5yumqc7dqlva77u/node_modules/@merit-systems/echo-next-sdk/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@merit-systems+echo-next-sdk@0.0.24_@ai-sdk+react@2.0.60_react@19.1.0_zod@3.25.76__next@15.4._ocniw4neekl5yumqc7dqlva77u/node_modules/@merit-systems/echo-next-sdk/dist/client.js":
/*!**************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@merit-systems+echo-next-sdk@0.0.24_@ai-sdk+react@2.0.60_react@19.1.0_zod@3.25.76__next@15.4._ocniw4neekl5yumqc7dqlva77u/node_modules/@merit-systems/echo-next-sdk/dist/client.js ***!
  \**************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EchoContext: () => (/* reexport safe */ _merit_systems_echo_react_sdk__WEBPACK_IMPORTED_MODULE_1__.EchoContext),\n/* harmony export */   EchoProvider: () => (/* binding */ EchoProvider),\n/* harmony export */   EchoSignIn: () => (/* reexport safe */ _merit_systems_echo_react_sdk__WEBPACK_IMPORTED_MODULE_1__.EchoSignIn),\n/* harmony export */   EchoSignOut: () => (/* reexport safe */ _merit_systems_echo_react_sdk__WEBPACK_IMPORTED_MODULE_1__.EchoSignOut),\n/* harmony export */   EchoTokens: () => (/* reexport safe */ _merit_systems_echo_react_sdk__WEBPACK_IMPORTED_MODULE_1__.EchoTokens),\n/* harmony export */   InsufficientFundsModal: () => (/* reexport safe */ _merit_systems_echo_react_sdk__WEBPACK_IMPORTED_MODULE_1__.InsufficientFundsModal),\n/* harmony export */   useEcho: () => (/* reexport safe */ _merit_systems_echo_react_sdk__WEBPACK_IMPORTED_MODULE_1__.useEcho)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.4.7_@opentelemetry+api@1.9.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _merit_systems_echo_react_sdk__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @merit-systems/echo-react-sdk */ \"(ssr)/./node_modules/.pnpm/@merit-systems+echo-react-sdk@1.0.33_@ai-sdk+react@2.0.60_react@19.1.0_zod@3.25.76__ai@5.0.47_fb3vp2od6lqf7mtywep5mxasji/node_modules/@merit-systems/echo-react-sdk/dist/index.js\");\n/* harmony import */ var _merit_systems_echo_typescript_sdk__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @merit-systems/echo-typescript-sdk */ \"(ssr)/./node_modules/.pnpm/@merit-systems+echo-typescript-sdk@1.0.17_zod@3.25.76/node_modules/@merit-systems/echo-typescript-sdk/dist/index.js\");\n/* harmony import */ var swr__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! swr */ \"(ssr)/./node_modules/.pnpm/swr@2.3.6_react@19.1.0/node_modules/swr/dist/index/index.mjs\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.4.7_@opentelemetry+api@1.9.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* __next_internal_client_entry_do_not_use__ EchoContext,EchoProvider,EchoSignIn,EchoSignOut,EchoTokens,InsufficientFundsModal,useEcho auto */ // src/components/EchoProvider.tsx\n\n\n\n\n\nfunction useProxySession(basePath, initial) {\n    const { data: session, error, isLoading } = (0,swr__WEBPACK_IMPORTED_MODULE_4__[\"default\"])([\n        \"session\",\n        basePath\n    ], {\n        \"useProxySession.useSWR\": async ()=>{\n            const res = await fetch(`${basePath}/session`, {\n                credentials: \"include\"\n            });\n            if (!res.ok) throw new Error(`Session ${res.status}`);\n            return res.json();\n        }\n    }[\"useProxySession.useSWR\"], {\n        fallbackData: initial,\n        revalidateOnFocus: true,\n        revalidateOnReconnect: true,\n        errorRetryCount: 2\n    });\n    return {\n        isAuthenticated: session?.isAuthenticated ?? false,\n        isLoading,\n        error: error?.message ?? null\n    };\n}\nfunction EchoProvider({ config, children }) {\n    const basePath = config.basePath || \"/api/echo\";\n    const session = useProxySession(basePath, config.initialSession);\n    const echoClient = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"EchoProvider.useMemo[echoClient]\": ()=>session.isAuthenticated ? new _merit_systems_echo_typescript_sdk__WEBPACK_IMPORTED_MODULE_2__.EchoClient({\n                baseUrl: `${basePath}/proxy`,\n                apiKey: \"next-sdk-proxy\"\n            }) : null\n    }[\"EchoProvider.useMemo[echoClient]\"], [\n        basePath,\n        session.isAuthenticated\n    ]);\n    const signIn = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"EchoProvider.useCallback[signIn]\": async ()=>{\n            const returnTo =  false ? 0 : void 0;\n            const url = `${basePath}/signin${returnTo ? `?returnTo=${encodeURIComponent(returnTo)}` : \"\"}`;\n            window.location.href = url;\n        }\n    }[\"EchoProvider.useCallback[signIn]\"], [\n        basePath\n    ]);\n    const signOut = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"EchoProvider.useCallback[signOut]\": async ()=>{\n            window.location.href = `${basePath}/signout`;\n        }\n    }[\"EchoProvider.useCallback[signOut]\"], [\n        basePath\n    ]);\n    const getToken = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"EchoProvider.useCallback[getToken]\": async ()=>null\n    }[\"EchoProvider.useCallback[getToken]\"], []);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_merit_systems_echo_react_sdk__WEBPACK_IMPORTED_MODULE_1__.EchoProviderRaw, {\n        config: {\n            appId: config.appId\n        },\n        rawUser: null,\n        isLoggedIn: session.isAuthenticated,\n        isAuthLoading: session.isLoading,\n        authError: session.error ? new Error(session.error) : null,\n        echoClient,\n        signIn,\n        signOut,\n        getToken,\n        children\n    });\n}\n// src/client.ts\n\n\n //# sourceMappingURL=client.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQG1lcml0LXN5c3RlbXMrZWNoby1uZXh0LXNka0AwLjAuMjRfQGFpLXNkaytyZWFjdEAyLjAuNjBfcmVhY3RAMTkuMS4wX3pvZEAzLjI1Ljc2X19uZXh0QDE1LjQuX29jbml3NG5lZWtsNXl1bXFjN2RxbHZhNzd1L25vZGVfbW9kdWxlcy9AbWVyaXQtc3lzdGVtcy9lY2hvLW5leHQtc2RrL2Rpc3QvY2xpZW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFZ0Q7QUFFaEI7QUFDTDtBQUNSO0FBMEVmO0FBbEVKLFNBQVMsZ0JBQ1AsVUFDQSxTQUNBO0lBQ0EsTUFBTSxFQUNKLE1BQU0sU0FDTixPQUNBLFdBQ0YsR0FBSSwrQ0FBTSxDQUNSO1FBQUM7UUFBVyxRQUFRO0tBQUE7a0NBQ3BCO1lBQ0UsTUFBTSxNQUFNLE1BQU0sTUFBTSxHQUFHLFFBQVEsWUFBWTtnQkFDN0MsYUFBYTtZQUNmLENBQUM7WUFDRCxJQUFJLENBQUMsSUFBSSxHQUFJLE9BQU0sSUFBSSxNQUFNLFdBQVcsSUFBSSxNQUFNLEVBQUU7WUFDcEQsT0FBTyxJQUFJLEtBQUs7UUFDbEI7aUNBQ0E7UUFDRSxjQUFjO1FBQ2QsbUJBQW1CO1FBQ25CLHVCQUF1QjtRQUN2QixpQkFBaUI7SUFDbkI7SUFHRixPQUFPO1FBQ0wsaUJBQWlCLFNBQVMsbUJBQW1CO1FBQzdDO1FBQ0EsT0FBTyxPQUFPLFdBQVc7SUFDM0I7QUFDRjtBQU9PLFNBQVMsYUFBYSxFQUFFLFFBQVEsU0FBUyxHQUFzQjtJQUNwRSxNQUFNLFdBQVcsT0FBTyxZQUFZO0lBQ3BDLE1BQU0sVUFBVSxnQkFBZ0IsVUFBVSxPQUFPLGNBQWM7SUFFL0QsTUFBTSxhQUFhLDhDQUFPOzRDQUN4QixJQUNFLFFBQVEsa0JBQ0osSUFBSSwwRUFBVSxDQUFDO2dCQUNiLFNBQVMsR0FBRyxRQUFRO2dCQUNwQixRQUFRO1lBQ1YsQ0FBQyxJQUNEOzJDQUNOO1FBQUM7UUFBVSxRQUFRLGVBQWU7S0FBQTtJQUdwQyxNQUFNLFNBQVMsa0RBQVc7NENBQUM7WUFDekIsTUFBTSxXQUNKLE1BQWtCLEdBQWMsQ0FBZ0IsR0FBTztZQUN6RCxNQUFNLE1BQU0sR0FBRyxRQUFRLFVBQVUsV0FBVyxhQUFhLG1CQUFtQixRQUFRLENBQUMsS0FBSyxFQUFFO1lBQzVGLE9BQU8sU0FBUyxPQUFPO1FBQ3pCOzJDQUFHO1FBQUMsUUFBUTtLQUFDO0lBRWIsTUFBTSxVQUFVLGtEQUFXOzZDQUFDO1lBQzFCLE9BQU8sU0FBUyxPQUFPLEdBQUcsUUFBUTtRQUNwQzs0Q0FBRztRQUFDLFFBQVE7S0FBQztJQUViLE1BQU0sV0FBVyxrREFBVzs4Q0FBQyxVQUFZOzZDQUFNLENBQUMsQ0FBQztJQUVqRCxPQUNFLHVFQUFDLDBFQUFlLEVBQWY7UUFDQyxRQUFRO1lBQUUsT0FBTyxPQUFPO1FBQU07UUFDOUIsU0FBUztRQUNULFlBQVksUUFBUTtRQUNwQixlQUFlLFFBQVE7UUFDdkIsV0FBVyxRQUFRLFFBQVEsSUFBSSxNQUFNLFFBQVEsS0FBSyxJQUFJO1FBQ3REO1FBQ0E7UUFDQTtRQUNBO1FBRUM7SUFBQTtBQUdQOztBQ3RGTztBQUU4QiIsInNvdXJjZXMiOlsiL1VzZXJzL3V0c2F2c2hhcm1hL0RvY3VtZW50cy9HaXRIdWIvc3JjL2NvbXBvbmVudHMvRWNob1Byb3ZpZGVyLnRzeCIsIi9Vc2Vycy91dHNhdnNoYXJtYS9Eb2N1bWVudHMvR2l0SHViL3NyYy9jbGllbnQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyBSZWFjdE5vZGUsIHVzZUNhbGxiYWNrLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHR5cGUgeyBFY2hvVXNlciB9IGZyb20gJ0BtZXJpdC1zeXN0ZW1zL2VjaG8tcmVhY3Qtc2RrJztcbmltcG9ydCB7IEVjaG9Qcm92aWRlclJhdyB9IGZyb20gJ0BtZXJpdC1zeXN0ZW1zL2VjaG8tcmVhY3Qtc2RrJztcbmltcG9ydCB7IEVjaG9DbGllbnQgfSBmcm9tICdAbWVyaXQtc3lzdGVtcy9lY2hvLXR5cGVzY3JpcHQtc2RrJztcbmltcG9ydCB1c2VTV1IgZnJvbSAnc3dyJztcblxuZXhwb3J0IGludGVyZmFjZSBFY2hvUHJveHlDb25maWcge1xuICBhcHBJZDogc3RyaW5nO1xuICBiYXNlUGF0aD86IHN0cmluZzsgLy8gZGVmYXVsdCAnL2FwaS9lY2hvJ1xuICBpbml0aWFsU2Vzc2lvbj86IHsgaXNBdXRoZW50aWNhdGVkOiBib29sZWFuOyB1c2VyPzogRWNob1VzZXIgfCBudWxsIH07XG59XG5cbmZ1bmN0aW9uIHVzZVByb3h5U2Vzc2lvbihcbiAgYmFzZVBhdGg6IHN0cmluZyxcbiAgaW5pdGlhbD86IEVjaG9Qcm94eUNvbmZpZ1snaW5pdGlhbFNlc3Npb24nXVxuKSB7XG4gIGNvbnN0IHtcbiAgICBkYXRhOiBzZXNzaW9uLFxuICAgIGVycm9yLFxuICAgIGlzTG9hZGluZyxcbiAgfSA9IHVzZVNXUihcbiAgICBbJ3Nlc3Npb24nLCBiYXNlUGF0aF0sXG4gICAgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7YmFzZVBhdGh9L3Nlc3Npb25gLCB7XG4gICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICB9KTtcbiAgICAgIGlmICghcmVzLm9rKSB0aHJvdyBuZXcgRXJyb3IoYFNlc3Npb24gJHtyZXMuc3RhdHVzfWApO1xuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgfSxcbiAgICB7XG4gICAgICBmYWxsYmFja0RhdGE6IGluaXRpYWwsXG4gICAgICByZXZhbGlkYXRlT25Gb2N1czogdHJ1ZSxcbiAgICAgIHJldmFsaWRhdGVPblJlY29ubmVjdDogdHJ1ZSxcbiAgICAgIGVycm9yUmV0cnlDb3VudDogMixcbiAgICB9XG4gICk7XG5cbiAgcmV0dXJuIHtcbiAgICBpc0F1dGhlbnRpY2F0ZWQ6IHNlc3Npb24/LmlzQXV0aGVudGljYXRlZCA/PyBmYWxzZSxcbiAgICBpc0xvYWRpbmcsXG4gICAgZXJyb3I6IGVycm9yPy5tZXNzYWdlID8/IG51bGwsXG4gIH07XG59XG5cbmludGVyZmFjZSBFY2hvUHJvdmlkZXJQcm9wcyB7XG4gIGNvbmZpZzogRWNob1Byb3h5Q29uZmlnO1xuICBjaGlsZHJlbjogUmVhY3ROb2RlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gRWNob1Byb3ZpZGVyKHsgY29uZmlnLCBjaGlsZHJlbiB9OiBFY2hvUHJvdmlkZXJQcm9wcykge1xuICBjb25zdCBiYXNlUGF0aCA9IGNvbmZpZy5iYXNlUGF0aCB8fCAnL2FwaS9lY2hvJztcbiAgY29uc3Qgc2Vzc2lvbiA9IHVzZVByb3h5U2Vzc2lvbihiYXNlUGF0aCwgY29uZmlnLmluaXRpYWxTZXNzaW9uKTtcblxuICBjb25zdCBlY2hvQ2xpZW50ID0gdXNlTWVtbyhcbiAgICAoKSA9PlxuICAgICAgc2Vzc2lvbi5pc0F1dGhlbnRpY2F0ZWRcbiAgICAgICAgPyBuZXcgRWNob0NsaWVudCh7XG4gICAgICAgICAgICBiYXNlVXJsOiBgJHtiYXNlUGF0aH0vcHJveHlgLFxuICAgICAgICAgICAgYXBpS2V5OiAnbmV4dC1zZGstcHJveHknLFxuICAgICAgICAgIH0pXG4gICAgICAgIDogbnVsbCxcbiAgICBbYmFzZVBhdGgsIHNlc3Npb24uaXNBdXRoZW50aWNhdGVkXVxuICApO1xuXG4gIGNvbnN0IHNpZ25JbiA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBjb25zdCByZXR1cm5UbyA9XG4gICAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdy5sb2NhdGlvbi5ocmVmIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IHVybCA9IGAke2Jhc2VQYXRofS9zaWduaW4ke3JldHVyblRvID8gYD9yZXR1cm5Ubz0ke2VuY29kZVVSSUNvbXBvbmVudChyZXR1cm5Ubyl9YCA6ICcnfWA7XG4gICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB1cmw7XG4gIH0sIFtiYXNlUGF0aF0pO1xuXG4gIGNvbnN0IHNpZ25PdXQgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgJHtiYXNlUGF0aH0vc2lnbm91dGA7XG4gIH0sIFtiYXNlUGF0aF0pO1xuXG4gIGNvbnN0IGdldFRva2VuID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4gbnVsbCwgW10pO1xuXG4gIHJldHVybiAoXG4gICAgPEVjaG9Qcm92aWRlclJhd1xuICAgICAgY29uZmlnPXt7IGFwcElkOiBjb25maWcuYXBwSWQgfSBhcyBhbnl9XG4gICAgICByYXdVc2VyPXtudWxsfVxuICAgICAgaXNMb2dnZWRJbj17c2Vzc2lvbi5pc0F1dGhlbnRpY2F0ZWR9XG4gICAgICBpc0F1dGhMb2FkaW5nPXtzZXNzaW9uLmlzTG9hZGluZ31cbiAgICAgIGF1dGhFcnJvcj17c2Vzc2lvbi5lcnJvciA/IG5ldyBFcnJvcihzZXNzaW9uLmVycm9yKSA6IG51bGx9XG4gICAgICBlY2hvQ2xpZW50PXtlY2hvQ2xpZW50fVxuICAgICAgc2lnbkluPXtzaWduSW59XG4gICAgICBzaWduT3V0PXtzaWduT3V0fVxuICAgICAgZ2V0VG9rZW49e2dldFRva2VufVxuICAgID5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L0VjaG9Qcm92aWRlclJhdz5cbiAgKTtcbn1cbiIsIid1c2UgY2xpZW50JztcblxuZXhwb3J0IHsgRWNob1Byb3ZpZGVyIH0gZnJvbSAnLi9jb21wb25lbnRzL0VjaG9Qcm92aWRlcic7XG5leHBvcnQge1xuICBFY2hvU2lnbkluLFxuICBFY2hvU2lnbk91dCxcbiAgRWNob1Rva2VucyxcbiAgSW5zdWZmaWNpZW50RnVuZHNNb2RhbCxcbn0gZnJvbSAnQG1lcml0LXN5c3RlbXMvZWNoby1yZWFjdC1zZGsnO1xuXG5leHBvcnQgeyB1c2VFY2hvLCBFY2hvQ29udGV4dCB9IGZyb20gJ0BtZXJpdC1zeXN0ZW1zL2VjaG8tcmVhY3Qtc2RrJztcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@merit-systems+echo-next-sdk@0.0.24_@ai-sdk+react@2.0.60_react@19.1.0_zod@3.25.76__next@15.4._ocniw4neekl5yumqc7dqlva77u/node_modules/@merit-systems/echo-next-sdk/dist/client.js\n");

/***/ })

};
;